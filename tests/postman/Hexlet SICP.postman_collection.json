{
	"info": {
		"_postman_id": "9569a0b3-9669-4003-ad0d-1a348c88331c",
		"name": "Hexlet SICP",
		"description": "Auto-tests for Hexlet SICP project. Main idea is to check, if a particular page is awailable. Test are made for both RU and EN versions of the application.\n\nFolders includes test for authorised and unauthorised user scenarios. Separate folder for manipulations with comments. And negative register scenarios are in prosess.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "45270946",
		"_collection_link": "https://michael-1391843.postman.co/workspace/Michael's-Workspace~2e5931a6-960c-42f2-8982-b3ad52254f03/collection/45270946-9569a0b3-9669-4003-ad0d-1a348c88331c?action=share&source=collection_link&creator=45270946"
	},
	"item": [
		{
			"name": "unauthorised_actions",
			"item": [
				{
					"name": "main_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru",
							"host": [
								"{{sicp}}ru"
							],
							"query": [
								{
									"key": "filter",
									"value": "",
									"description": "require login; values: all, month, week",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "main_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en?filter",
							"host": [
								"{{sicp}}en"
							],
							"query": [
								{
									"key": "filter",
									"value": null,
									"description": "require login; values: all, month, week"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "chapters_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/chapters",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"chapters"
							]
						}
					},
					"response": []
				},
				{
					"name": "chapters_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/chapters",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"chapters"
							]
						}
					},
					"response": []
				},
				{
					"name": "chapter_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let id = parseInt(pm.environment.get(\"chapterId\") || 1, 10);",
									"",
									"// Если ещё не дошли до 129 — идём дальше",
									"if (id < 129) {",
									"    pm.environment.set(\"chapterId\", id + 1);",
									"    postman.setNextRequest(pm.info.requestName);",
									"} else {",
									"    // Остановить цикл после 129",
									"    postman.setNextRequest(null);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Берём текущий id или начинаем с 1",
									"let id = parseInt(pm.environment.get(\"chapterId\") || 1, 10);",
									"",
									"// Подставляем id вместо :id в URL",
									"let newUrl = pm.request.url.toString().replace(\":id\", id);",
									"pm.variables.set(\"resolvedUrl\", newUrl); ",
									"pm.request.url = newUrl;"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/chapters/{{chapterId}}",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"chapters",
								"{{chapterId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "chapter_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let id = parseInt(pm.environment.get(\"chapterId\") || 1, 10);",
									"",
									"// Если ещё не дошли до 129 — идём дальше",
									"if (id < 129) {",
									"    pm.environment.set(\"chapterId\", id + 1);",
									"    postman.setNextRequest(pm.info.requestName);",
									"} else {",
									"    // Остановить цикл после 129",
									"    postman.setNextRequest(null);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Берём текущий id или начинаем с 1",
									"let id = parseInt(pm.environment.get(\"chapterId\") || 1, 10);",
									"",
									"// Подставляем id вместо :id в URL",
									"let newUrl = pm.request.url.toString().replace(\":id\", id);",
									"pm.variables.set(\"resolvedUrl\", newUrl); ",
									"pm.request.url = newUrl;"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/chapters/{{chapterId}}",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"chapters",
								"{{chapterId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "exercises_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/exercises",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"exercises"
							]
						}
					},
					"response": []
				},
				{
					"name": "exercises_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/exercises",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"exercises"
							]
						}
					},
					"response": []
				},
				{
					"name": "exercise_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let id = parseInt(pm.environment.get(\"exerciseId\") || 1, 10);",
									"",
									"// Если ещё не дошли до 356 — идём дальше",
									"if (id < 356) {",
									"    pm.environment.set(\"exerciseId\", id + 1);",
									"    postman.setNextRequest(pm.info.requestName);",
									"} else {",
									"    // Остановить цикл после 356",
									"    postman.setNextRequest(null);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Берём текущий id или начинаем с 1",
									"let id = parseInt(pm.environment.get(\"exerciseId\") || 1, 10);",
									"",
									"// Подставляем id вместо :id в URL",
									"let newUrl = pm.request.url.toString().replace(\":id\", id);",
									"pm.variables.set(\"resolvedUrl\", newUrl); ",
									"pm.request.url = newUrl;"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/exercises/{{exerciseId}}",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"exercises",
								"{{exerciseId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "exercise_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let id = parseInt(pm.environment.get(\"exerciseId\") || 1, 10);",
									"",
									"// Если ещё не дошли до 356 — идём дальше",
									"if (id < 356) {",
									"    pm.environment.set(\"exerciseId\", id + 1);",
									"    postman.setNextRequest(pm.info.requestName);",
									"} else {",
									"    // Остановить цикл после 356",
									"    postman.setNextRequest(null);",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Берём текущий id или начинаем с 1",
									"let id = parseInt(pm.environment.get(\"exerciseId\") || 1, 10);",
									"",
									"// Подставляем id вместо :id в URL",
									"let newUrl = pm.request.url.toString().replace(\":id\", id);",
									"pm.variables.set(\"resolvedUrl\", newUrl); ",
									"pm.request.url = newUrl;"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/exercises/{{exerciseId}}",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"exercises",
								"{{exerciseId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "solutions_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/solutions",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"solutions"
							],
							"query": [
								{
									"key": "filter%5Buser.name%5D",
									"value": "name",
									"description": "user name",
									"disabled": true
								},
								{
									"key": "filter%5Bexercise_id%5D",
									"value": "5",
									"description": "exersise id",
									"disabled": true
								},
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "solutions_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/solutions",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"solutions"
							],
							"query": [
								{
									"key": "filter%5Buser.name%5D",
									"value": "name",
									"description": "user name",
									"disabled": true
								},
								{
									"key": "filter%5Bexercise_id%5D",
									"value": "5",
									"description": "exersise id",
									"disabled": true
								},
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "top_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/ratings/top",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"ratings",
								"top"
							]
						}
					},
					"response": []
				},
				{
					"name": "top_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/ratings/top",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"ratings",
								"top"
							]
						}
					},
					"response": []
				},
				{
					"name": "comments_top_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/ratings/comments_top",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"ratings",
								"comments_top"
							]
						}
					},
					"response": []
				},
				{
					"name": "comments_top_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/ratings/comments_top",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"ratings",
								"comments_top"
							]
						}
					},
					"response": []
				},
				{
					"name": "user`s_comments_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/users/:id/comments",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"users",
								":id",
								"comments"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "user`s_comments_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/users/:id/comments",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"users",
								":id",
								"comments"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "register_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "register_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/register",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "login_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/login",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "login_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/login",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "about_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/pages/about",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"pages",
								"about"
							]
						}
					},
					"response": []
				},
				{
					"name": "about_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/pages/about",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"pages",
								"about"
							]
						}
					},
					"response": []
				},
				{
					"name": "user_id_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/users/:id",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "user_id_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/users/:id",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "solutions_id_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/solutions/:id",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"solutions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "solutions_id_en",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/solutions/:id",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"solutions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "Availability tests that do not require user\\`s authorization. The tests which require one are in authorised_actions folder (below).\n\n__________\n\nТесты доступности страниц, не требующих авторизации пользователя. Тесты, в которых требуется авторизация пользователя в папке authorised_actions.\n\nВ тестах на доступность глав и упражнений написан скрипт, позволяющий проверить доступность ВСЕХ страниц с главами и упражнениями."
		},
		{
			"name": "authorised_actions",
			"item": [
				{
					"name": "login_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Извлекаем CSRF-токен из cookie",
									"const csrfToken = pm.cookies.get('XSRF-TOKEN');",
									"pm.environment.set('csrfToken', csrfToken);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/login",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "login_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Извлекаем CSRF-токен из cookie",
									"const csrfToken = pm.cookies.get('XSRF-TOKEN');",
									"pm.environment.set('csrfToken', csrfToken);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/login",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST_login_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@test.com\",\n  \"password\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/login",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST_login_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@test.com\",\n  \"password\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/login",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "comments_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/comments",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"comments"
							],
							"query": [
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "comments_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/comments",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"comments"
							],
							"query": [
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "log_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/log",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"log"
							],
							"query": [
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "log_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/log",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"log"
							],
							"query": [
								{
									"key": "page",
									"value": "2",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "my_progress_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/my",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "my_progress_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/my",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"my"
							]
						}
					},
					"response": []
				},
				{
					"name": "my_solutions_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/my/solutions",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"my",
								"solutions"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "my_solutions_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/my/solutions",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"my",
								"solutions"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "page number",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "settings_account_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/settings/account",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"settings",
								"account"
							]
						}
					},
					"response": []
				},
				{
					"name": "settings_account_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/settings/account",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"settings",
								"account"
							]
						}
					},
					"response": []
				},
				{
					"name": "settings_profile_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/settings/profile",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"settings",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "settings_profile_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}en/settings/profile",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"settings",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "logout_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Logout OK (Laravel 302/200/419 check)\", function () {",
									"    const code = pm.response.code;",
									"    pm.expect([200, 302, 204]).to.include(code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/logout",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "logout_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Logout OK (Laravel 302/200/419 check)\", function () {",
									"    const code = pm.response.code;",
									"    pm.expect([200, 302, 204]).to.include(code);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/logout",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"logout"
							]
						}
					},
					"response": []
				}
			],
			"description": "Tests which require user\\`s authorisation\n\n______\n\nТесты на доступ к страницам, где требуется авторизация пользователя. Реализация: Подсажен GET запрос на страницу логина, извлекающий CSRF-токен из cookie. Т.о. возможно залогиниться и просматривать страницы, доступные только пользователю с авторизацией."
		},
		{
			"name": "comments",
			"item": [
				{
					"name": "add_comment_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// подсадить токен, который запомнит id комметнария",
									"// --- Try to extract comment ID from JSON body ---",
									"let json;",
									"try {",
									"    json = pm.response.json();",
									"} catch (e) {",
									"    json = null;",
									"}",
									"",
									"let commentId = null;",
									"",
									"// 1) If ID is inside JSON response",
									"if (json && (json.id || json.comment_id)) {",
									"    commentId = json.id || json.comment_id;",
									"}",
									"",
									"// 2) Try to extract from \"Location\" header (URL: .../comments/2337)",
									"if (!commentId) {",
									"    const location = pm.response.headers.get('Location');",
									"    if (location) {",
									"        const match = location.match(/comments\\/(\\d+)/);",
									"        if (match) {",
									"            commentId = match[1];",
									"        }",
									"    }",
									"}",
									"",
									"// 3) Try to extract from HTML/redirect body (as fallback)",
									"if (!commentId) {",
									"    const body = pm.response.text();",
									"    const match = body.match(/comments\\/(\\d+)/);",
									"    if (match) {",
									"        commentId = match[1];",
									"    }",
									"}",
									"",
									"// Save result",
									"if (commentId) {",
									"    pm.environment.set(\"commentId\", commentId);",
									"    console.log(\"Saved commentId:\", commentId);",
									"    pm.test(\"Comment ID saved\", function () {",
									"        pm.expect(commentId).to.not.be.null;",
									"    });",
									"} else {",
									"    pm.test(\"Comment ID NOT FOUND\", function () {",
									"        pm.expect.fail(\"Comment ID was not found in response\");",
									"    });",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"commentable_type\": \"App\\\\Models\\\\Chapter\", // комментарий в главу (оставить одно!)\n    \"commentable_type\": \"App\\\\Models\\\\Exercise\", // комментарий в упражнение (оставить одно!)\n    \"commentable_id\": 3, // номер главы/упражнения\n    \"parent_id\": 1803, // ответ на комментарий (убрать, если создается новый!)\n    \"content\": \"postman text\" // текст комментария\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/comments",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "add_comment_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// подсадить токен, который запомнит id комметнария",
									"// --- Try to extract comment ID from JSON body ---",
									"let json;",
									"try {",
									"    json = pm.response.json();",
									"} catch (e) {",
									"    json = null;",
									"}",
									"",
									"let commentId = null;",
									"",
									"// 1) If ID is inside JSON response",
									"if (json && (json.id || json.comment_id)) {",
									"    commentId = json.id || json.comment_id;",
									"}",
									"",
									"// 2) Try to extract from \"Location\" header (URL: .../comments/2337)",
									"if (!commentId) {",
									"    const location = pm.response.headers.get('Location');",
									"    if (location) {",
									"        const match = location.match(/comments\\/(\\d+)/);",
									"        if (match) {",
									"            commentId = match[1];",
									"        }",
									"    }",
									"}",
									"",
									"// 3) Try to extract from HTML/redirect body (as fallback)",
									"if (!commentId) {",
									"    const body = pm.response.text();",
									"    const match = body.match(/comments\\/(\\d+)/);",
									"    if (match) {",
									"        commentId = match[1];",
									"    }",
									"}",
									"",
									"// Save result",
									"if (commentId) {",
									"    pm.environment.set(\"commentId\", commentId);",
									"    console.log(\"Saved commentId:\", commentId);",
									"    pm.test(\"Comment ID saved\", function () {",
									"        pm.expect(commentId).to.not.be.null;",
									"    });",
									"} else {",
									"    pm.test(\"Comment ID NOT FOUND\", function () {",
									"        pm.expect.fail(\"Comment ID was not found in response\");",
									"    });",
									"}",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"commentable_type\": \"App\\\\Models\\\\Chapter\", // комментарий в главу (оставить одно!)\n    \"commentable_type\": \"App\\\\Models\\\\Exercise\", // комментарий в упражнение (оставить одно!)\n    \"commentable_id\": 3, // номер главы/упражнения\n    \"parent_id\": 1803, // ответ на комментарий (убрать, если создается новый!)\n    \"content\": \"postman text\" // текст комментария\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/comments",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit_comment_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"commentable_type\": \"App\\\\Models\\\\Chapter\", // комментарий в главу (оставить одно!)\n    \"commentable_type\": \"App\\\\Models\\\\Exercise\", // комментарий в упражнение (оставить одно!)\n    \"commentable_id\": 3, // номер главы/упражнения\n    \"content\": \"edit postman text\" // текст комментария\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/comments/{{commentId}}",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"comments",
								"{{commentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit_comment_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"commentable_type\": \"App\\\\Models\\\\Chapter\", // комментарий в главу (оставить одно!)\n    \"commentable_type\": \"App\\\\Models\\\\Exercise\", // комментарий в упражнение (оставить одно!)\n    \"commentable_id\": 5, // номер главы/упражнения\n    \"content\": \"edit postman text\" // текст комментария\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/comments/{{commentId}}",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"comments",
								"{{commentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete_comment_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							},
							{
								"key": "commentable_type",
								"value": "App\\Models\\Chapter",
								"description": "комментарий в главу (оставить одно!)",
								"type": "text",
								"disabled": true
							},
							{
								"key": "commentable_type",
								"value": "App\\Models\\Exercise",
								"description": "комментарий в упражнение (оставить одно!)",
								"type": "text",
								"disabled": true
							},
							{
								"key": "commentable_id",
								"value": "3",
								"description": "// номер главы/упражнения",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{sicp}}ru/comments/{{commentId}}",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"comments",
								"{{commentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete_comment_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							},
							{
								"key": "commentable_type",
								"value": "App\\Models\\Chapter",
								"description": "комментарий в главу (оставить одно!)",
								"type": "text",
								"disabled": true
							},
							{
								"key": "commentable_type",
								"value": "App\\Models\\Exercise",
								"description": "комментарий в упражнение (оставить одно!)",
								"type": "text",
								"disabled": true
							},
							{
								"key": "commentable_id",
								"value": "5",
								"description": "// номер главы/упражнения",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{sicp}}en/comments/{{commentId}}",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"comments",
								"{{commentId}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Tests and manipulations with comments. Login before run them.\n\n---\n\nТесты и манипуляции с комментами. Перед запуском нужно авторизоваться.\n\nВнимательно смотреть на содержимое Body запроса и читать комментарии\\*, они оставлены специально для тебя\n\n_______\n\n\\*Перед запуском ВСЕ комментарии следует удалить (пример: // комментарий), т.к. отправленный запрос будет некорректным."
		},
		{
			"name": "negative_testing",
			"item": [
				{
					"name": "get_token_register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Извлекаем CSRF-токен из cookie",
									"const csrfToken = pm.cookies.get('XSRF-TOKEN');",
									"pm.environment.set('csrfToken', csrfToken);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "second_register_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — пользователь уже существует\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"The email has already been taken.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@test.com\",\n  \"name\": \"Tester\",\n  \"password\": \"12345678\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "second_register_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — пользователь уже существует\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"The email has already been taken.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@test.com\",\n  \"name\": \"Tester\",\n  \"password\": \"12345678\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/register",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "register_short_password_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — пароль должен быть длиннее 8 символов\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"Длина пароля должна быть не менее 8 символов\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"Del\",\n  \"password\": \"1234567\",\n  \"password_confirmation\": \"1234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "register_short_password_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — пароль должен быть длиннее 8 символов\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"The password must be at least 8 characters.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"Del\",\n  \"password\": \"1234567\",\n  \"password_confirmation\": \"1234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}en/register",
							"host": [
								"{{sicp}}en"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "register_long_name_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — имя пользователя слишком длинное\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"Имя не может быть длиннее 255 символов\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"rznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhecghjlkfnxg;dslfkmdfklgnjdftuoppqwenbjvnclvknlkdnsgfsdlfkgmdfgm\",\n  \"password\": \"12345678\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "register_long_name_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — имя пользователя слишком длинное\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"The name may not be greater than 255 characters.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"rznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhectpdlaisrgwxbjfznqkuyovmhecghjlkfnxg;dslfkmdfklgnjdftuoppqwenbjvnclvknlkdnsgfsdlfkgmdfgm\",\n  \"password\": \"12345678\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}register",
							"host": [
								"{{sicp}}register"
							]
						}
					},
					"response": []
				},
				{
					"name": "different_passwords_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — имя пользователя слишком длинное\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"Пароль и подтверждение не совпадают\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"Del\",\n  \"password\": \"123456789\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/register",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "different_passwords_en",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Регистрация не удалась — имя пользователя слишком длинное\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"The password confirmation does not match.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"del@del.com\",\n  \"name\": \"Del\",\n  \"password\": \"123456789\",\n  \"password_confirmation\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}register",
							"host": [
								"{{sicp}}register"
							]
						}
					},
					"response": []
				},
				{
					"name": "get_token_login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Извлекаем CSRF-токен из cookie",
									"const csrfToken = pm.cookies.get('XSRF-TOKEN');",
									"pm.environment.set('csrfToken', csrfToken);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{sicp}}ru/login",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "wrong_password_login_ru",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Учетные данные неверные\", function () {",
									"    var body = pm.response.text();",
									"    pm.expect(body).to.include(\"Эти учетные данные не соответствуют нашим записям.\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{csrfToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@test.com\",\n  \"password\": \"12345679\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{sicp}}ru/login",
							"host": [
								"{{sicp}}ru"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				}
			],
			"description": "Negative tests\n\n---\n\nНегативные тесты. Пока мало, и только для форм регистрации и логина.\n\nКак пользоваться:\n\n1. Вызвать GET для соответствующей формы.\n    \n2. Отправить необходимые запросы\n    \n\nТесты будут работать некорректно, если предварительно не отправить GET на соответствующую страницу."
		},
		{
			"name": "the_book",
			"item": [
				{
					"name": "the_book",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://mitp-content-server.mit.edu/books/content/sectbyfn/books_pres_0/6515/sicp.zip/full-text/book/book-Z-H-4.html#%_toc_%_sec_1.1",
							"protocol": "https",
							"host": [
								"mitp-content-server",
								"mit",
								"edu"
							],
							"path": [
								"books",
								"content",
								"sectbyfn",
								"books_pres_0",
								"6515",
								"sicp.zip",
								"full-text",
								"book",
								"book-Z-H-4.html"
							],
							"hash": "%_toc_%_sec_1.1"
						}
					},
					"response": []
				}
			],
			"description": "Внешняя ссылка на книгу"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}